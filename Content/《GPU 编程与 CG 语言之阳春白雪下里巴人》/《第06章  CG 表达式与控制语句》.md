## 第06章  CG 表达式与控制语句
<br>

> 读书之法，在循序而渐进，熟读而精思。<br>
　　　　　　　　　　------ 朱熹

　　在上一章中，我们已经介绍了 Cg 语言的基础数据类型（7种）、内置数据类型，以及数组、结构、接口等类型，本章将在此基础上讨论 Cg 中的表达式，表达式由操作符（operator）关联一个或多个操作数（operand）构成，我们首先阐述各种类型的操作符，并结合数据类型讲解操作符的具体使用方法。
<br><br>
　　Cg 中的操作符与 C 语言中的类似（操作符的功能和写法与 C 相同，但用法不尽相同），按照操作符的功能可以划分为：关系操作符、逻辑操作符、条件操作符。Cg 中有一类较为独特的操作符，称为 Swizzle 操作符，这个操作用于取出向量类型变量中的分量。此外，与 C 语言不同的是，Cg 允许在向量类型变量上使用操作符，例如 > 操作符可以用来比较两个向量各个分量的大小关系。Cg 中的表达式还有狠多与 C 语言不通的细节之处，将在本章中一一分说。

### 6.1 关系操作符（Comparison Operators）

　　关系操作符，用于比较同类型数据（不同类型的基础数据需要进行类型转换，不同长度的向量，不能进行比较）之间的大小关系或者等价关系。Cg 中有 6 种关系操作符。如下表所示，关系操作符运算后的返回类型均为 bool 类型。

关系操作符 | 功能 | 用法
---- | --- | ---
'<' | 小于 | expr < expr
'<=' |  小于或等于 |  expr <= expr
'!=' |  不等于 |  expr != expr
'==' |  等于 |  expr == expr
'>=' |  大于或等于 |  expr >= expr
'>' |  大于 |   expr > expr

　　在 Cg 中，由于关系操作符以及下节会讲到的逻辑操作符，都返回 bool 类型结果，所以这两种操作符有时也被统一称为 boolean operator。
<br><br>
　　Cg 语言表达式允许对向量使用所有的 boolean operator，如果是二元操作符，则被操作的两个向量的长度必须一致。表达式中向量的每个分量都进行一对一的运算，最后返回的结果是一个 bool 类型的向量，长度和操作符向量一致。例如：

 ```
　　float3 a = float4(0.5, 0.0, 1.0);
　　float3 b = float4(0.6, -0.1, 0.9);
　　float3 c = a < b;
 ```
 
 　　运算后向量 c 的结果为 float3（true, false, true）;
 
### 6.2 逻辑操作符（Logical Operators）
 
 　　Cg 语言中有 3 种逻辑操作符（也被称为 boolean Operators），如下表所示，逻辑操作符运算后的返回类型均为 bool 类型。
 
关系操作符 | 功能 | 用法
---- | --- | ---
&& | 逻辑与 | expr&&expr
\||\ | 逻辑或 |  expr\||\expr
! |  逻辑非 |  !expr

 　　正如上节所说，逻辑操作符也可以对向量使用，返回的变量类型是同样长度的内置 bool 向量。
<br><br>
 　　有一点需要注意：Cg 中的逻辑与（&&）和逻辑或（||）不存在 C 中的短路现象（short-circuiting，即只用计算一个操作数的 bool 值即可），而是参与运算的操作数据都进行 bool 分析。
 
### 6.2 逻辑操作符（Logical Operators）
<br><br>
<br><br>
<br><br>
<br><br>
<br><br>
<br><br>
<br><br>











